(function(){"use strict";var e={415:function(e,n,t){var o=t(963),i=t(252);const r={class:"container"},a={class:"app"},s=(0,i._)("h1",{class:"app__title"},"Работа с базой данных",-1),p=["disabled"];function l(e,n,t,l,c,u){const d=(0,i.up)("Warning"),f=(0,i.up)("PeopleList");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",a,[s,(0,i.Wm)(d,{warning:c.warning,onClose:n[0]||(n[0]=e=>c.warning=null)},null,8,["warning"]),(0,i._)("form",{class:"app__form",onSubmit:n[2]||(n[2]=(0,o.iM)(((...e)=>u.createPerson&&u.createPerson(...e)),["prevent"]))},[(0,i.wy)((0,i._)("input",{placeholder:"Введите имя",class:"app__input",type:"text",id:"name","onUpdate:modelValue":n[1]||(n[1]=e=>c.inputName=e)},null,512),[[o.nr,c.inputName,void 0,{trim:!0}]]),(0,i._)("button",{class:"app__btn",disabled:0===c.inputName.length},"Создать",8,p)],32),(0,i.Wm)(f,{people:c.people,onLoad:u.loadPeople,onRemove:u.removePerson},null,8,["people","onLoad","onRemove"])])])}var c=t(577);const u={class:"container"},d={class:"people"},f={class:"people__item"},m=["onClick"],h={key:1,class:"people__empty empty"},v=(0,i._)("h3",{class:"empty__title"},"Нет данных",-1);function _(e,n,t,o,r,a){return(0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("div",d,[0!==t.people.length?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(t.people,(n=>((0,i.wg)(),(0,i.iD)("div",{class:"people__list",key:n.id},[(0,i._)("h3",f,(0,c.zw)(n.personName),1),(0,i._)("button",{class:"people__btn",onClick:t=>e.$emit("remove",n.id)},"Удалить",8,m)])))),128)):((0,i.wg)(),(0,i.iD)("div",h,[v,(0,i._)("button",{class:"empty__btn",onClick:n[0]||(n[0]=n=>e.$emit("load"))},"Загрузить пользователей")]))])])}var g={emits:["load","remove"],props:["people"]},w=t(744);const b=(0,w.Z)(g,[["render",_]]);var y=b;const k={class:"container"},N={key:0,class:"warning"},O={class:"warning__text"};function P(e,n,t,o,r,a){return(0,i.wg)(),(0,i.iD)("div",k,[t.warning?((0,i.wg)(),(0,i.iD)("div",N,[(0,i._)("i",{class:"warning__close fa-solid fa-rectangle-xmark fa-lg",onClick:n[0]||(n[0]=n=>e.$emit("close"))}),(0,i._)("h3",{class:(0,c.C_)(["warning__title",t.warning.type])},(0,c.zw)(t.warning.title),3),(0,i._)("p",O,(0,c.zw)(t.warning.text),1)])):(0,i.kq)("",!0)])}var j={emits:["close"],props:["warning"]};const x=(0,w.Z)(j,[["render",P]]);var C=x,D=t(206),$=t.n(D),L={components:{PeopleList:y,Warning:C},data(){return{inputName:"",people:[],warning:null}},mounted(){this.loadPeople()},methods:{async createPerson(){const e=await fetch("https://vue-http-60f9e-default-rtdb.firebaseio.com/people.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({personName:this.inputName})}),n=await e.json();this.people.push({personName:this.inputName,id:n.name}),this.inputName=""},async loadPeople(){try{const{data:e}=await $().get("https://vue-http-60f9e-default-rtdb.firebaseio.com/people.json");this.people=Object.keys(e).map((n=>({id:n,personName:e[n].personName})))}catch(e){this.warning={type:"error",title:"Ошибка",text:"Пользователи для загрузки отсутствуют"}}},async removePerson(e){try{const n=this.people.find((n=>n.id===e)).personName;await $()["delete"](`https://vue-http-60f9e-default-rtdb.firebaseio.com/people/${e}.json`),this.people=this.people.filter((n=>n.id!==e)),this.warning={type:"success",title:"Успешно",text:`Пользователь ${n} удалён`}}catch(n){}}}};const T=(0,w.Z)(L,[["render",l]]);var W=T;(0,o.ri)(W).mount("#app")}},n={};function t(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={exports:{}};return e[o](r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,o,i,r){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],i=e[c][1],r=e[c][2];for(var s=!0,p=0;p<o.length;p++)(!1&r||a>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[p])}))?o.splice(p--,1):(s=!1,r<a&&(a=r));if(s){e.splice(c--,1);var l=i();void 0!==l&&(n=l)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,i,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var i,r,a=o[0],s=o[1],p=o[2],l=0;if(a.some((function(n){return 0!==e[n]}))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(p)var c=p(t)}for(n&&n(o);l<a.length;l++)r=a[l],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},o=self["webpackChunkprc_mybd"]=self["webpackChunkprc_mybd"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(415)}));o=t.O(o)})();
//# sourceMappingURL=app.4916fbbf.js.map